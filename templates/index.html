<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NeuraSeek</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Orbitron:wght@700&display=swap" rel="stylesheet">
  <style>
    body, html { font-family: 'Inter', sans-serif; }
    .neon-text {
      background: linear-gradient(90deg, #7f5af0 30%, #2ec4b6 70%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-family: 'Orbitron', 'Inter', sans-serif;
    }
    .glass {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(24px) saturate(180%);
      border-radius: 1.5rem;
      border: 1.5px solid rgba(127, 90, 240, 0.24);
      box-shadow: 0 2px 12px 0 rgba(127, 90, 240, 0.06), 0 1.5px 12px 0 rgba(46, 196, 182, 0.03);
    }
    .fade-in {
      animation: fadeInUp 0.7s cubic-bezier(0.4,0,0.2,1) forwards;
      opacity: 0;
      transform: translateY(30px);
    }
    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0);}
    }
    /* Custom select styling for modern look */
    .custom-select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background: url('data:image/svg+xml;utf8,<svg fill="none" stroke="gray" stroke-width="3" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>') no-repeat right 0.75rem center/1rem, linear-gradient(to right, #fafafa, #f3f4f6);
      padding-right: 2.5rem !important;
    }
    /* For dark theme toggle preview */
    .theme-toggle-placeholder {
      cursor: pointer;
      padding: 6px 18px;
      border-radius: 9999px;
      background: linear-gradient(90deg, #7f5af0 30%, #2ec4b6 70%);
      color: white;
      font-weight: 600;
      font-size: 0.96rem;
      transition: background 0.2s;
      opacity: 0.94;
      box-shadow: 0 2px 8px 0 #b7bcf62b;
    }
    .theme-toggle-placeholder:hover { opacity: 1; }
  </style>
</head>
<body class="min-h-screen bg-[#f7f8fa] text-gray-900 flex flex-col items-center justify-between px-2">

  <main class="w-full max-w-3xl mx-auto py-12 flex-1">

    <!-- Title Banner -->
    <div class="fade-in mb-6 text-center">
      <h1 class="text-4xl sm:text-5xl font-bold neon-text tracking-tight drop-shadow-sm mb-2">
        NeuraSeek
      </h1>
      <div class="text-lg text-gray-500 font-medium mb-7">
        Smarter Search. Powered by AI.
      </div>
      <div class="text-base text-gray-400 font-medium mb-8">
        Type a query below and select your preferences.
      </div>
    </div>

    <!-- About Section -->
    <section class="fade-in mb-9 mt-6 text-center">
      <div class="glass py-6 px-6 sm:px-10 inline-block">
        <h3 class="text-xl font-bold mb-1 text-gray-800">About</h3>
        <div class="text-base text-gray-600 mb-1">Unlike traditional search engines that rely on keyword matching, NeuraSeek uses AI-powered semantic search to understand intent and context. It retrieves precise, domain-specific results from the public web, making discovery faster, smarter, and more relevant.</div>
        <div class="text-xs text-gray-400 italic mt-1">Powered by Exa API, Flask, and TailwindCSS.</div>
        <div class="text-xs text-gray-400 italic mt-2">Coming soon: more domains, better filtering.</div>
      </div>
    </section>

    <!-- Glassy Search Panel -->
    <form method="POST" class="fade-in glass p-6 sm:p-8 flex flex-col sm:flex-row gap-4 items-center mb-10 shadow-md">
      <input 
        name="query"
        type="search"
        required
        value="{{ query|default('') }}"
        placeholder="Enter your search query..."
        class="w-full sm:w-1/2 px-5 py-3 rounded-xl border border-gray-200 bg-white/40 focus:border-purple-400 outline-none text-base font-semibold transition duration-150"
        autocomplete="off"
      />
      <select 
        name="num_results"
        class="custom-select px-3 py-3 rounded-xl border border-gray-200 bg-white/40 focus:border-purple-400 outline-none text-base font-medium"
        aria-label="Number of results">
        <option value="3" {% if num_results == '3' %}selected{% endif %}>3</option>
        <option value="6" {% if num_results == '6' %}selected{% endif %}>6</option>
        <option value="9" {% if num_results == '9' %}selected{% endif %}>9</option>
        <option value="12" {% if num_results == '12' %}selected{% endif %}>12</option>
      </select>
      <input 
        name="domain"
        type="text"
        value="{{ domain|default('') }}"
        placeholder="Enter domain or leave blank"
        class="w-full sm:w-1/3 px-5 py-3 rounded-xl border border-gray-200 bg-white/40 focus:border-purple-400 outline-none text-base transition duration-150"
      />
      <button 
        type="submit"
        class="px-8 py-3 rounded-xl bg-gradient-to-r from-purple-500 via-cyan-400 to-blue-500 text-white font-bold text-base shadow-sm hover:scale-105 transition-transform"
      >
        Search
      </button>
    </form>

    <!-- Error Message -->
    {% if error %}
      <div class="fade-in text-red-600 text-center mb-6 font-semibold glass p-3">
        {{ error }}
      </div>
    {% endif %}

    <!-- Results Section -->
    <section id="results" class="fade-in pb-8">
      <h2 class="text-lg font-semibold mb-4">Results<span class="ml-2 text-gray-400"></span>:</h2>
      {% if results %}
        <ul class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 w-full pb-16">
          {% for result in results %}
            <li class="glass p-6 rounded-xl transition hover:shadow-lg hover:border-purple-400">
              <a href="{{ result.url }}" target="_blank" rel="noopener"
                class="block font-bold text-purple-600 text-lg mb-2 hover:underline truncate"
                title="{{ result.title }}">{{ result.title }}</a>
              <p class="text-gray-600 truncate text-sm">{{ result.url }}</p>
            </li>
          {% endfor %}
          {# Visual fix: empty items to balance last row if needed #}
          {% set remainder = results|length % 3 %}
          {% if remainder %}
            {% for _ in range(3 - remainder) %}
              <li class="invisible"></li>
            {% endfor %}
          {% endif %}
        </ul>
      {% else %}
        <div class="text-gray-400 font-medium px-2 mt-8">No results to display.</div>
      {% endif %}
    </section>

  </main>

  <!-- Footer / Contact -->
    <footer class="w-full max-w-3xl mx-auto mb-6 px-2 flex flex-col items-center justify-center space-y-2 text-gray-500">
    <div class="flex gap-6 mb-1">

        <!-- Email -->
        <a href="mailto:sanjayjayakumar2006@gmail.com" class="hover:text-purple-500 transition" title="Email">
          <svg class="inline w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M16 12.5L8 12.5M21 6.5v11a2 2 0 01-2 2h-14a2 2 0 01-2-2v-11a2 2 0 012-2h14a2 2 0 012 2z"/>
          </svg>
        </a>

        <!-- Instagram -->
        <a href="https://www.instagram.com/ig_sanjayy/" target="_blank" rel="noopener" class="hover:text-purple-500 transition" title="Instagram">
          <svg class="inline w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M7.75 2h8.5A5.75 5.75 0 0122 7.75v8.5A5.75 5.75 0 0116.25 22h-8.5A5.75 5.75 0 012 16.25v-8.5A5.75 5.75 0 017.75 2zm0 2A3.75 3.75 0 004 7.75v8.5A3.75 3.75 0 007.75 20h8.5a3.75 3.75 0 003.75-3.75v-8.5A3.75 3.75 0 0016.25 4h-8.5zM16.5 7.25a1 1 0 110 2 1 1 0 010-2zm-4.75 2.75A3.75 3.75 0 1016.5 13a3.75 3.75 0 00-4.75-3z"/>
          </svg>
        </a>

        <!-- Discord -->
        <a href="https://discord.com/users/dc_sanjayy" target="_blank" rel="noopener" class="hover:text-purple-500 transition" title="Discord">
          <svg class="inline w-6 h-6" fill="currentColor" viewBox="0 0 71 55" xmlns="http://www.w3.org/2000/svg">
            <path d="M60.104 4.552A58.875 58.875 0 0046.749.65a41.667 41.667 0 00-1.958 4.138 55.644 55.644 0 00-16.566 0 41.437 41.437 0 00-1.956-4.138 58.874 58.874 0 00-13.359 3.9C7.012 18.020-.33 31.041.22 44.013a58.002 58.002 0 0017.85 7.3 42.22 42.22 0 003.675-6.006 36.244 36.244 0 01-5.481-2.616c.462-.331.913-.686 1.341-1.071a39.504 39.504 0 0035.904 0c.43.385.88.74 1.34 1.07a36.107 36.107 0 01-5.48 2.615 42.084 42.084 0 003.675 6.007 58.093 58.093 0 0017.85-7.3c-.58-12.984-7.922-25.99-19.628-39.44zM23.725 37.227c-3.31 0-6-2.993-6-6.69 0-3.697 2.68-6.69 6-6.69 3.31 0 6 2.993 6 6.69 0 3.697-2.68 6.690-6 6.69zm23.678 0c-3.31 0-6-2.993-6-6.69 0-3.697 2.68-6.69 6-6.69 3.31 0 6 2.993 6 6.69 0 3.697-2.68 6.690-6 6.69z"/>
          </svg>
        </a>

        <!-- GitHub -->
        <a href="https://github.com/sanjayy-j" target="_blank" rel="noopener" class="hover:text-purple-500 transition" title="GitHub">
          <svg class="inline w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M12 2C6.48 2 2 6.58 2 12.26c0 4.49 2.87 8.3 6.84 9.64.5.09.68-.22.68-.48 0-.24-.01-.87-.01-1.7-2.78.6-3.37-1.36-3.37-1.36-.45-1.17-1.11-1.48-1.11-1.48-.9-.63.07-.62.07-.62 1 .07 1.52 1.04 1.52 1.04.89 1.57 2.34 1.12 2.91.86.09-.66.35-1.12.64-1.37-2.22-.26-4.56-1.15-4.56-5.13 0-1.13.39-2.05 1.04-2.78-.1-.27-.45-1.36.1-2.84 0 0 .84-.28 2.75 1.04a9.19 9.19 0 012.5-.35c.85.003 1.71.11 2.5.35 1.91-1.32 2.75-1.04 2.75-1.04.55 1.48.2 2.57.1 2.84.65.73 1.04 1.65 1.04 2.78 0 3.99-2.34 4.87-4.57 5.12.36.32.68.95.68 1.92 0 1.38-.01 2.5-.01 2.84 0 .26.18.57.69.48C19.14 20.56 22 16.75 22 12.26 22 6.58 17.52 2 12 2z" clip-rule="evenodd"/>
          </svg>
        </a>

        <!-- LinkedIn -->
        <a href="https://www.linkedin.com/in/sanjay-jk/" target="_blank" rel="noopener" class="hover:text-purple-500 transition" title="LinkedIn">
          <svg class="inline w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M19 0h-14a5 5 0 00-5 5v14a5 5 0 005 5h14a5 5 0 005-5v-14a5 5 0 00-5-5zm-11.75 20h-3v-11h3v11zm-1.5-12.3a1.75 1.75 0 110-3.5 1.75 1.75 0 010 3.5zm13.25 12.3h-3v-5.7c0-1.36-.03-3.11-1.9-3.11-1.9 0-2.19 1.5-2.19 3.03v5.78h-3v-11h2.87v1.5h.04a3.15 3.15 0 012.82-1.55c3.02 0 3.58 1.98 3.58 4.56v6h-.02z"/>
          </svg>
        </a>
    </div>

    <div class="text-xs text-gray-400">Built with <span class="text-pink-500">❤️</span> by Sanjay J | © 2025</div>
    </footer>
</body>
</html>
